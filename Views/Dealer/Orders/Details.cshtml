@model HaldiramPromotionalApp.Models.Order

@{
    ViewData["Title"] = "Order Details";
}

<link rel="stylesheet" href="~/css/DealerDashboard.css" />



<div class="container-fluid">
    <div class="dashboard-header">
        <h2><i class="fas fa-shopping-bag"></i> Order Details #@Model.Id</h2>
    </div>

    <div class="card">
        <div class="card-header">
            <h5><i class="fas fa-info-circle"></i> Order Information</h5>
        </div>
        <div class="card-body">
            <div class="order-info-card">
                
                <div class="order-details">
                    <div class="order-detail-item">
                        <div class="detail-label">Order Date</div>
                        <div class="detail-value">@Model.OrderDate.ToString("dd MMM yyyy HH:mm")</div>
                    </div>
                    <div class="order-detail-item">
                        <div class="detail-label">Status</div>
                        <div class="detail-value">
                            @if (Model.OrderStatus == "Completed")
                            {
                                <span class="order-status completed">@Model.OrderStatus</span>
                            }
                            else if (Model.OrderStatus == "Pending")
                            {
                                <span class="order-status pending">@Model.OrderStatus</span>
                            }
                            else
                            {
                                <span class="order-status processing">@Model.OrderStatus</span>
                            }
                        </div>
                    </div>
                    <div class="order-detail-item">
                        <div class="detail-label">Total Amount</div>
                        <div class="detail-value">₹@Model.TotalAmount.ToString("F2")</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <div class="card">
        <div class="card-header">
            <h5><i class="fas fa-box"></i> Order Items</h5>
        </div>
        <div class="card-body">
            @if (Model.OrderItems.Any())
            {
                <div class="table-container">
                    <table class="table table-striped">
                        <thead>
                            <tr>
                                <th>Product</th>
                                <th>Unit Price</th>
                                <th>Quantity</th>
                                <th>Total</th>
                            </tr>
                        </thead>
                        <tbody>
                            @foreach (var item in Model.OrderItems)
                            {
                                <tr>
                                    <td>@item.Material?.Materialname</td>
                                    <td>₹@item.UnitPrice.ToString("F2")</td>
                                    <td>@item.Quantity</td>
                                    <td>₹@item.TotalPrice.ToString("F2")</td>
                                </tr>
                            }
                        </tbody>
                        <tfoot>
                            <tr class="total-row">
                                <td colspan="3" class="text-end">Grand Total:</td>
                                <td>₹@Model.TotalAmount.ToString("F2")</td>
                            </tr>
                        </tfoot>
                    </table>
                </div>
            }
            else
            {
                <div class="empty-order">
                    <i class="fas fa-box-open"></i>
                    <h4>No Items Found</h4>
                    <p>No items found in this order.</p>
                </div>
            }
        </div>
    </div>
    
    <div class="mt-3">
        <a href="@Url.Action("Index", "Orders")" class="btn btn-outline-primary">Back to Orders</a>
    </div>
</div>